services:
  chromium:
    command: --virtual-keyboard http://localhost:5173
    depends_on:
      - room-booking
    device_cgroup_rules:
      - c 199:* rmw
    image: torizon/chromium@sha256:892f9c2c98414ea70d061f02c0837559f49c65a308e9bb8a987d8613c9bb07d8
    network_mode: host
    platform: linux/arm64
    restart: unless-stopped
    security_opt:
      - seccomp=unconfined
    shm_size: 256mb
    volumes:
      - /tmp:/tmp
      - /var/run/dbus:/var/run/dbus
      - /dev/galcore:/dev/galcore
  weston:
    cap_add:
      - CAP_SYS_TTY_CONFIG
    command: --developer
    device_cgroup_rules:
      - c 4:* rmw
      - c 13:* rmw
      - c 199:* rmw
      - c 226:* rmw
    environment:
      - ACCEPT_FSL_EULA=1
    image: torizon/weston-vivante@sha256:20b09290a5238b2b61d5f6965e2407347867100f488ce77cfd19f485d82501e6
    network_mode: host
    platform: linux/arm64
    restart: unless-stopped
    volumes:
      - /dev:/dev
      - /tmp:/tmp
      - /run/udev/:/run/udev/

  room-booking:
    image: allanktoradex/booked_rooms_dashboard:latest
    ports:
      - "5173:5173"
    restart: unless-stopped
    network_mode: host

version: "3.8"
